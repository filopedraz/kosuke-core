#!/bin/sh
set -e

# Check if we have TypeScript/JavaScript files in the commit
js_files=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(js|jsx|ts|tsx)$' || true)

if [ -z "$js_files" ]; then
  echo "✅ No JS/TS files to check, skipping pre-commit hooks"
  exit 0
fi

echo "Running pre-commit checks..."

bun run lint-staged
bun run typecheck
bun run test

echo "✅ All pre-commit checks passed!"
